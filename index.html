---
title: Home
layout: post_grid
---
<div class = "post_feed_box">
{% assign posts_amount = site.posts | size %}
<div class="post_grid">
{% for post in site.posts %}
    {%if post.category == "render"%}
    {%comment%}
    {%raw%}
    <!div class="post_grid_item" style="background-color: #{{ post.domcol | remove: "^" }};">
    {%endraw%}
    {%endcomment%}
    <div class="post_grid_item" id = "post_{{ post.postid }}" title = "{{ post.title }}">
        <a href="{{ post.url }}?fh=1">

            <img src="{{ post.thumb }}" class="thumbnail">

            <div class ="title">
              {% if post.titleoverride %}
                {{ post.titleoverride }}
              {% else %}
                {{ post.title }}
              {% endif %}
            </div>

            <div class ="desc">
                <div class = "date">
                    {{post.date | date_to_string | downcase }}
                </div>

                <div class = "song_desc_wrap">
                    <div class = "song_desc">
                        {{ post.songname }} | {{ post.songautr }}
                    </div>
                    {% if post.spotisong %} 
                    <div class="spoti_small_icon">
                        <img src = "/spotify_small.png" >
                    </div>
                    {% endif %} 
                </div>
            </div>
            
            
            
        </a>
    </div>
    {%endif%}
{% endfor %}

<script>
            function getQueryVariable(variable) {
                var query = window.location.search.substring(1);
                var vars = query.split("&");
                for (var i = 0; i < vars.length; i++) {
                    var pair = vars[i].split("=");
                    if (pair[0] == variable) {
                        return pair[1];
                    }
                }
                return (false);
            }

            if (getQueryVariable("focus") != "false") {
                var pid = getQueryVariable("focus");
                var url = window.location.protocol + "//" + window.location.host + window.location.pathname;
                var newurl = url.split("?")[0];
                window.history.replaceState({path:newurl},'',newurl);
                document.getElementById("post_"+pid).scrollIntoView({ behavior: "auto", block: "center", inline:"center"});
                document.getElementById("post_"+pid).style = "animation: 2s ease-out 0s 1 post_focus";
                document.getElementById("post_"+pid).classList.add("post_grid_item--focused");

                // Also retarget the logo link to the focused post and indicate alternate state
                try {
                    var postEl = document.getElementById("post_" + pid);
                    if (postEl) {
                        var postAnchor = postEl.querySelector('a');
                        var logoAnchor = document.querySelector('a.logo');
                        if (postAnchor && logoAnchor) {
                            var postHref = (postAnchor.getAttribute('href') || '').split('?')[0];
                            if (postHref && postHref !== '/') {
                                logoAnchor.setAttribute('href', postHref);
                                logoAnchor.classList.add('logo--backlink'); // make alt overlay visible
                                // Remove default HTML title tooltip; we'll use a custom tooltip instead
                                logoAnchor.removeAttribute('title');

                                // Create a real tooltip element so we can measure and clamp to viewport
                                var tip = document.createElement('div');
                                tip.className = 'logo-tip show'; // visible initially, then hide; CSS will fade on hover
                                tip.textContent = 'Back to post';
                                logoAnchor.appendChild(tip);

                                // Position centered under the visible overlay image if present
                                try {
                                    var overlayAlt = document.querySelector('.logo .logoimg-overlay-alt');
                                    var overlayBase = document.querySelector('.logo .logoimg-overlay');
                                    var anchorRect = logoAnchor.getBoundingClientRect();
                                    var refEl = (overlayAlt && getComputedStyle(overlayAlt).opacity !== '0') ? overlayAlt : overlayBase;
                                    var refRect = (refEl ? refEl.getBoundingClientRect() : anchorRect);
                                    var midX = refRect.left + (refRect.width / 2);
                                    var leftWithinAnchor = midX - anchorRect.left;
                                    tip.style.left = leftWithinAnchor + 'px';
                                    tip.style.top = '100%';
                                    tip.style.transform = 'translate(-50%, 8px)';

                                    // After it's in the DOM, measure and clamp if overflowing the left viewport edge
                                    var tipRect = tip.getBoundingClientRect();
                                    var minViewportLeft = 8; // padding from left edge
                                    if (tipRect.left < minViewportLeft) {
                                        tip.classList.add('clamp-left');
                                        var clampedLeft = Math.max(minViewportLeft - anchorRect.left, 0);
                                        tip.style.left = clampedLeft + 'px';
                                        tip.style.transform = 'translate(0, 8px)';
                                    }
                                } catch (_) { /* noop */ }

                                // Hide initial tip after a short delay; keep element for hover
                                setTimeout(function(){
                                    if (tip) tip.classList.remove('show');
                                }, 2000);
                            }
                        }
                    }
                } catch (e) {
                    // no-op: if anything fails here, keep default logo behavior
                }
            }
        </script>
</div>
</div>